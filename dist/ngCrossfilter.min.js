/*! ng-crossfilter by Adam Timberlake <adam.timberlake@gmail.com> created on 2013-11-22 */
!function(a,b){"use strict";var c=a.module("ngCrossfilter",[]);c.service("crossfilterFilter",function(){var c={},d={},e=function(e){var g=f(e[0]);c=b(e),a.forEach(g,function(a){d[a]=c.dimension(function(b){return b[a]})})},f=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},g=function(b,c){var e=d[b],f=function(a){return a.substr(1)};if(a.isArray(c))return e.filterRange(c),void 0;switch(String(c).charAt(0)){case"?":i(e,f(c));break;case"~":k(e,f(c));break;default:j(e,c)}},h=function(){a.forEach(d,function(a){a.filterAll()})},i=function(a,b){var c=new RegExp(b,"i");a.filterFunction(function(a){return String(a).match(c)})},j=function(a,b){var c=new RegExp(b,"i");a.filterFunction(function(a){return a.match(c)})},k=function(a,b){var c=b.match(/\/([a-z])*$/)[1];b=b.match(/^\/(.+?)\/[a-z]*$/i)[1];var d=new RegExp(b,c);a.filterFunction(function(a){return a.match(d)})};return function(b,f){var i=a.copy(b);f.value===!1&&h(),"groupAll"in c&&"dimension"in c||e(i),f.filter&&f.value&&g(f.filter,f.value);var j=d[f.sort||"id"],k="asc"===(f.direction||"asc")?"bottom":"top";return j[k](1/0)}})}(window.angular,window.crossfilter);